---
title: 什么是固件与烧录
date: 2025-09-22 22:13:16
tags:
---


# 嵌入式开发的烧录是什么?
我们来系统讲解一下 **嵌入式开发中的“烧录”概念**，包括原理、目的和常见方式。



# 1️⃣ 烧录的定义


在嵌入式开发中，**烧录（Flashing / Programming）**指的是：



将编写好的程序（固件、操作系统、bootloader 等）写入嵌入式设备的 **非易失性存储器**（如 Flash、EEPROM、ROM）中，使芯片在上电后能够自动运行该程序。

<!--more-->

- 简单理解：把“软件”写进“硬件”里，让设备可以独立工作。
- 烧录的对象通常是：


**MCU/Microcontroller** 的 Flash


**SoC/处理器** 的 NAND/NOR Flash


**外部 SPI/I2C Flash、EEPROM**


# 2️⃣ 烧录的目的


1. **程序部署**

- 将开发好的应用程序或操作系统固件写入芯片，使设备可以运行。
2. **固件更新**

- 产品出厂后，也可以通过烧录更新芯片上的程序。
3. **调试与开发**

- 开发过程中多次修改程序，需要快速写入硬件进行测试。


# 3️⃣ 烧录的原理


1. **连接硬件**

- MCU/处理器通常提供编程接口，如：


**JTAG/SWD**（调试和烧录接口）


**UART/USB/Serial Bootloader**


**SPI/I2C** Flash 编程
- 烧录设备连接开发板或芯片。
2. **烧录工具或软件**

- 开发板厂商提供的官方烧录软件（如 ST 的 ST-LINK Utility）
- 开源工具（如 `openocd`, `avrdude`）
3. **写入 Flash**

- 烧录工具通过接口将二进制程序写入芯片非易失性存储器。
- Flash 写入通常分为：


**擦除（Erase）**：清空原有数据


**写入（Program）**：写入新的数据


**校验（Verify）**：确保写入正确
4. **运行**

- 烧录完成后，芯片上电会自动从 Flash 启动，执行烧录的程序。


# 4️⃣ 常见烧录方式


| 烧录方式 | 说明 | 使用场景 |
| ---- | ---- | ---- |
| **JTAG/SWD** | 高速调试和烧录接口 | MCU、FPGA、ARM 开发板 |
| **UART/串口** | 通过 Bootloader 上传程序 | 小型 MCU、开发板 |
| **USB DFU** | USB Device Firmware Upgrade | STM32、NXP、Raspberry Pi Pico |
| **外部 Flash 编程器** | 专用烧录器直接写入 NAND/NOR Flash | SOC、FPGA、存储模块 |
| **OTA（Over The Air）** | 无线远程更新 | IoT 设备、智能家居、远程设备 |



# 5️⃣ 烧录与普通程序下载的区别


| 区别 | 烧录 | 普通下载 |
| ---- | ---- | ---- |
| 存储介质 | 非易失性存储器（Flash） | 内存（RAM） |
| 上电后运行 | 程序自动执行 | 程序需重新加载 |
| 数据保留 | 断电后仍保留 | 断电丢失 |



烧录就是“把程序永久写到芯片里”，不是临时下载到内存里。




# 6️⃣ 烧录流程示意（MCU 例子）


1. 开发 -> 编译生成 `firmware.bin`
2. 连接芯片 -> 启动烧录工具
3. 擦除 Flash -> 写入程序 -> 校验
4. 上电运行 -> MCU 执行 `firmware.bin`


💡 小提示：


- 有些开发板带 **自动烧录功能**，按下复位/下载按钮即可烧录。
- 烧录过程中注意 **电源稳定** 和 **烧录接口正确**，避免烧录失败或损坏芯片。




# 什么是固件？

我们来系统讲解一下 **固件（Firmware）** 的概念、作用和应用场景。



# 1️⃣ 固件的定义


**固件（Firmware）** 是一种位于 **硬件与软件之间的程序**，通常存储在设备的 **非易失性存储器（如 Flash、ROM、EEPROM）** 中，用于控制硬件的行为。


- 简单理解：固件就是“写在硬件里的软件”，让硬件能“懂得怎么工作”。
- 介于硬件和操作系统之间，不同于普通应用软件，可以直接控制设备硬件。


# 2️⃣ 固件的特点


| 特点 | 说明 |
| ---- | ---- |
| 存储位置 | 非易失性存储器（断电不丢失） |
| 作用 | 控制硬件设备的基本功能 |
| 更新方式 | 烧录（Flash）、OTA（无线升级） |
| 依赖性 | 紧密绑定硬件型号和硬件寄存器结构 |
| 可执行性 | 上电即可执行，通常无需操作系统支持 |



# 3️⃣ 固件的作用


1. **硬件初始化**

- 启动时设置硬件寄存器、时钟、总线等，使硬件处于可用状态。
- 例：BIOS/UEFI 初始化 CPU、内存和外设。
2. **提供硬件控制接口**

- 固件封装硬件操作，使操作系统或应用程序能够使用统一接口访问硬件。
- 例：打印机固件提供打印、喷头控制接口。
3. **实现设备功能**

- 一些设备的主要功能直接由固件实现，而无需操作系统。
- 例：路由器、SSD、数码相机的操作逻辑。
4. **支持远程或批量升级**

- 可以通过烧录或 OTA 更新固件，修复漏洞或增加功能。


# 4️⃣ 固件与软件/驱动的区别


| 区别 | 固件 | 操作系统/应用软件 |
| ---- | ---- | ---- |
| 存储位置 | Flash、ROM | 硬盘、存储介质 |
| 控制对象 | 硬件寄存器、外设 | 软件资源、操作系统接口 |
| 执行时机 | 上电即可执行 | 依赖操作系统加载运行 |
| 更新方式 | 烧录、OTA | 安装包、升级程序 |



驱动程序（Driver）通常运行在操作系统上，通过操作系统调用固件接口控制硬件。




# 5️⃣ 固件的常见类型与应用


| 类型 | 存储位置 | 典型应用 |
| ---- | ---- | ---- |
| **BIOS/UEFI** | 主板 ROM/Flash | PC 启动硬件初始化 |
| **MCU 固件** | MCU 内部 Flash | 单片机控制、家电、工业设备 |
| **外设固件** | 外设 Flash（打印机、SSD、网卡） | 控制设备功能、性能优化 |
| **嵌入式操作系统固件** | Flash/NAND | 路由器、IoT 设备、智能硬件 |



# 6️⃣ 固件更新（Firmware Update）


- **烧录（Flash Programming）**：开发阶段或线下更新
- **OTA（Over-The-Air）**：远程无线升级
- **注意事项**：


更新固件失败可能导致设备不可用（砖化）


必须匹配设备型号和版本


断电或中途停止可能损坏硬件


# 7️⃣ 总结


1. 固件是 **硬件上的软件程序**，控制硬件并提供接口给操作系统或应用。
2. 存储在 **非易失性存储器**，断电也不会丢失。
3. 固件和普通软件不同，它依赖硬件结构，上电即可运行。
4. 更新方式主要有 **烧录** 和 **OTA**，更新需谨慎。

